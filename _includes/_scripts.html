<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="{{ site.url }}/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="{{ site.url }}/assets/js/scripts.min.js"></script>
{% if site.owner.google.analytics %}
<!-- Asynchronous Google Analytics snippet -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '{{ site.owner.google.analytics }}', 'auto');
ga('send', 'pageview');

</script>
<script>
    var handleLinkClick = function(url) {
        ga('send', 'event', 'outbound', 'click', url, {'hitCallback':
            function () {
                document.location = url;
            }
        });
    }

    function addOnClickEvent() {
        var links = document.getElementsByTagName("a");
        for (var i = 0; i < links.length; i++) {
            var link = links[i];
            var onClickAttribute = document.createAttribute("onclick");
            onClickAttribute.value = "handleLinkClick('" + link.href + "'); return false;";
            link.setAttributeNode(onClickAttribute);
        }
    }

    if (window.addEventListener) {
        window.addEventListener("load", addOnClickEvent, false);
    } else if (window.attachEvent) {
        window.attachEvent("onload", addOnClickEvent);
    } else {
        window.onload = addOnClickEvent;
    }
</script>
{% endif %}
{% if page.comments %}
  {% include _disqus_comments.html %}
{% endif %}
